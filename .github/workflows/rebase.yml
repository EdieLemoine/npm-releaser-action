name: 'Rebase'

on:
  repository_dispatch:
    types: [ rebase ]

  workflow_dispatch:
    inputs:
      base:
        type: choice
        description: 'Source'
        default: 'develop'
        required: false
        options:
          - main
          - develop

      target:
        type: choice
        description: 'Target'
        default: 'main'
        required: false
        options:
          - main
          - develop

jobs:
  rebase:
    name: 'Rebase'
    uses: edielemoine/npm-releaser-action/.github/workflows/--rebase.yml@main
    with:
      target: ${{ github.event.client_payload.target || github.event.inputs.target }}
      base: ${{ github.event.client_payload.source || github.event.inputs.source }}
    secrets:
      GH_REPO_TOKEN: ${{ secrets.GH_REPO_TOKEN }}
