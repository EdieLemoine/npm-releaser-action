name: 'ðŸ”€ Rebase'

on:
  repository_dispatch:
    types: [ rebase ]

  workflow_dispatch:
    inputs:
      base:
        type: choice
        description: 'Source'
        default: 'develop'
        required: false
        options:
          - main
          - develop

      target:
        type: choice
        description: 'Target'
        default: 'main'
        required: false
        options:
          - main
          - develop

jobs:
  rebase:
    name: 'Rebase'
    runs-on: ubuntu-20.04
    steps:
      - uses: edielemoine/npm-releaser-action/rebase@main
        with:
          token: ${{ secrets.GH_REPO_TOKEN }}
          source: ${{ github.event.client_payload.source }}${{ github.event.inputs.source }})
          target: ${{ github.event.client_payload.target }}${{ github.event.inputs.target }})
